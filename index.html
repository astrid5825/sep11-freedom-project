<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>ProjectVD</title>
    </head>
    <body>
        <!-- HTML -->
        <script type="module">
    import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

kaboom({
    background: [10, 100, 200],
    fullscreen: true,
})
loadSprite ("azHolder", "azzyPlaceholder.png")
loadSprite ("piHolder","pinkiePlaceholder.png")
loadSprite ("woHolder", "treehousewallsPlaceholder.png")
loadSprite ("doHolder", "door.jpg")
loadSprite("outsideHolder", "kaboomjs.png")

var levelIDX = 1
scene("main", (levelIDX) => {

const SPEED = 200

//const characters ={ (work on this when you can)
//}
const levels = [
		[
			"===|====",
			"=      =",
			"=      =",
			"=      =",
			"=      =",
			"=   @  =",
			"========",
		],
		[
			"--------",
			"-      -",
			"-      -",
			"^      -",
			"-      -",
			"-  @   -",
			"--------",
		],
	]
const level = addLevel(levels[levelIdx],
    tileWidth, 64,
    tileHeight, 64,
    pos, vec2(64, 64),
    tiles, {
        "=": () => [
				sprite("woHolder"),
				area(),
				body({ isStatic: true }),
				anchor("center"),
            ],
            "-": () => [
				sprite("outsideHolder"),
				area(),
				body({ isStatic: true }),
				anchor("center"),
    ],
           "@": () => [
            sprite("azHolder"),
            area(),
            body({isStatic: true}),
            anchor("center"),
            "Azzy"
           ],
           "|": () => [
            sprite("doHolder"),
            area(),
            body({isStatic: true}),
            anchor ("center"),
            "door"
           ],
           "^": () => [
            sprite("piHolder"),
            area(),
            body({isStatic: true}),
            anchor("center"),
            "Pinky"
           ],
    },
           function addDialog() {

            //doesn't work
    //         player.onCollide("door", () => {
	// 	if (player.on) {
	// 		if (levelIdx + 1 < levels.length) {
	// 			go("main", levelIdx + 1)
	// 		} else {
	// 			go("win")
	// 		}
	// 	} else {
	// 		dialog.say("you got no key!")
	// 	}
	// })



           //pinky himself
//            let Pinky = false,
//  player.onCollide("piHolder", (Pinky) => {
// 		destroy(Pinky)
// 		Pinky = true
// 	})

    }
)


 }
)
go("main", 0)
//     kaboom({
//     fullscreen: true,
//     canvas: document.getElementById("game"),
//     background: [10, 100, 200], // RGB values for black background
// });
//     loadSprite ("azHolder", "azzyPlaceholder.png")
//     loadSprite ("piHolder","pinkiePlaceholder.png")
//     loadSprite ("woHolder", "treehousewallsPlaceholder.png")
//     loadSprite ("doHolder", "door.jpg")


// scene("main", (levelIdx) => {
// const SPEED = 200

// //
// const player = add([
//    sprite("azHolder"),
//    pos(636,height()- 295),
//    scale(.1),
//    area(),
// ])


// onKeyDown("left", () => {
// 	player.move(-SPEED, 0)
// })

// onKeyDown("right", () => {
// 	player.move(SPEED, 0)
// })

// onKeyDown("up", () => {
// 	player.move(0, -SPEED)
// })

// onKeyDown("down", () => {
// 	player.move(0, SPEED)
// })


// const levels = [
// 		[
// 			"===|====",
// 			"=      =",
// 			"= $    =",
// 			"=    a =",
// 			"=      =",
// 			"=   @  =",
// 			"========",
// 		],

// 	]

// 	level = addLevel (levels), {
// 		tileWidth: 32,
// 		tileHeight: 32,
// 		pos: vec2(64, 64),
// 		tiles: {
// 			"=": () => [
// 				sprite("woHolder"),
// 				body({ isStatic: true }),
// 				anchor("center"),
// 			],
// 		}
// 	}

// 			"@"; () => [
// 				sprite("azzHolder"),
// 				anchor("center"),
// 				"player",
//         ]
// 			,
// 			"|"; () => [
// 				sprite("doHolder"),
// 				area(),
// 				body({ isStatic: true }),
// 				anchor("center"),
// 				"door",
// 			],
//       },


</script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- <script src="script.js"></script>
        <script src="https://unpkg.com/kaboom@3000.0.1/dist/kaboom.js"></script>

<script>
    kaboom();
</script>

        </script>
    </body>
</html>
</script>

